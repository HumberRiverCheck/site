<!DOCTYPE html>

<style>
 div {
  margin-bottom: 10px;
}
input[type="range"] {
  width: 100%;
}
</style>

<html>
  <div>
    <label for="slider1">Slider 1</label>
    <input type="range" id="slider1" min="0" max="100" value="33" oninput="adjustSliders()">
    <span id="value1">33%</span>
  </div>
  <div>
    <label for="slider2">Slider 2</label>
    <input type="range" id="slider2" min="0" max="100" value="33" oninput="adjustSliders()">
    <span id="value2">33%</span>
  </div>
  <div>
    <label for="slider3">Slider 3</label>
    <input type="range" id="slider3" min="0" max="100" value="34" oninput="adjustSliders()">
    <span id="value3">34%</span>
  </div>

</html>

<script>

function adjustSliders() {
  const sliders = [
    document.getElementById('slider1'),
    document.getElementById('slider2'),
    document.getElementById('slider3')
  ];
  const values = [
    document.getElementById('value1'),
    document.getElementById('value2'),
    document.getElementById('value3')
  ];

  // Get total of all slider values
  const total = sliders.reduce((sum, slider) => sum + parseInt(slider.value), 0);

  // Calculate the overage (if total > 100) or shortage (if total < 100)
  const excess = total - 100;

  // Adjust the other sliders to make up the difference
  if (excess !== 0) {
    let remainingSliders = sliders.length - 1;
    sliders.forEach((slider, index) => {
      if (slider !== document.activeElement) {
        // Adjust the other sliders proportionally
        let adjustment = Math.round(excess / remainingSliders);
        let newValue = parseInt(slider.value) - adjustment;

        // Ensure the slider stays within 0-100 bounds
        newValue = Math.max(0, Math.min(newValue, 100));

        slider.value = newValue;
        values[index].textContent = `${slider.value}%`;
        remainingSliders--;
      }
    });
  }

  // Update displayed values for all sliders
  sliders.forEach((slider, index) => {
    values[index].textContent = `${slider.value}%`;
  });
}

// Initialize the sliders on page load
document.addEventListener("DOMContentLoaded", adjustSliders);

</script>
